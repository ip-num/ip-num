// [ip-num]  Version: 1.3.3-1. Released on: Friday, May 28th, 2021, 10:25:19 AM  
 var ipnum=function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=10)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.intLog2=e.cidrPrefixToMaskBinaryString=e.leftPadWithZeroBit=e.dottedDecimalNotationToBinaryString=e.parseBinaryStringToBigInteger=e.decimalNumberToOctetString=e.bigIntegerNumberToBinaryString=e.decimalNumberToBinaryString=void 0;var n=r(1);e.decimalNumberToBinaryString=function(t){return Number(t).toString(2)},e.bigIntegerNumberToBinaryString=function(t){return t.toString(2)},e.decimalNumberToOctetString=function(t){var r=e.decimalNumberToBinaryString(t);if(r.length>8)throw new Error("Given decimal in binary contains digits greater than an octet");return e.leftPadWithZeroBit(r,8)},e.parseBinaryStringToBigInteger=function(t){return n(t,2)},e.dottedDecimalNotationToBinaryString=function(t){return t.split(".").reduce((function(t,r){return t.concat(e.decimalNumberToOctetString(parseInt(r)))}),"")},e.leftPadWithZeroBit=function(t,e){if(t.length>e)throw new Error("Given string is already longer than given final length after padding: "+e);return"0".repeat(e-t.length).concat(t)},e.cidrPrefixToMaskBinaryString=function(t,e){var r;if(t>(r="IPv4"==e?32:128))throw Error("Value is greater than "+r);return""+"1".repeat(t)+"0".repeat(r-t)},e.intLog2=function(t){for(var e=0;t.isEven();){if(t.equals(n(2))){e++;break}if((t=t.shiftRight(n(1))).isOdd()){e=0;break}e++}if(0==e)throw new Error("The value of log2 for "+t.toString()+" is not an integer");return e}},function(t,e,r){(function(t){var n,i=function(t){"use strict";var e=1e7,r=9007199254740992,n=f(r),o="function"==typeof BigInt;function a(t,e,r,n){return void 0===t?a[0]:void 0!==e&&(10!=+e||r)?L(t,e,r,n):G(t)}function u(t,e){this.value=t,this.sign=e,this.isSmall=!1}function s(t){this.value=t,this.sign=t<0,this.isSmall=!0}function p(t){this.value=t}function l(t){return-r<t&&t<r}function f(t){return t<1e7?[t]:t<1e14?[t%1e7,Math.floor(t/1e7)]:[t%1e7,Math.floor(t/1e7)%1e7,Math.floor(t/1e14)]}function c(t){g(t);var r=t.length;if(r<4&&R(t,n)<0)switch(r){case 0:return 0;case 1:return t[0];case 2:return t[0]+t[1]*e;default:return t[0]+(t[1]+t[2]*e)*e}return t}function g(t){for(var e=t.length;0===t[--e];);t.length=e+1}function h(t){for(var e=new Array(t),r=-1;++r<t;)e[r]=0;return e}function v(t){return t>0?Math.floor(t):Math.ceil(t)}function d(t,r){var n,i,o=t.length,a=r.length,u=new Array(o),s=0,p=e;for(i=0;i<a;i++)s=(n=t[i]+r[i]+s)>=p?1:0,u[i]=n-s*p;for(;i<o;)s=(n=t[i]+s)===p?1:0,u[i++]=n-s*p;return s>0&&u.push(s),u}function y(t,e){return t.length>=e.length?d(t,e):d(e,t)}function m(t,r){var n,i,o=t.length,a=new Array(o),u=e;for(i=0;i<o;i++)n=t[i]-u+r,r=Math.floor(n/u),a[i]=n-r*u,r+=1;for(;r>0;)a[i++]=r%u,r=Math.floor(r/u);return a}function S(t,e){var r,n,i=t.length,o=e.length,a=new Array(i),u=0;for(r=0;r<o;r++)(n=t[r]-u-e[r])<0?(n+=1e7,u=1):u=0,a[r]=n;for(r=o;r<i;r++){if(!((n=t[r]-u)<0)){a[r++]=n;break}n+=1e7,a[r]=n}for(;r<i;r++)a[r]=t[r];return g(a),a}function b(t,e,r){var n,i,o=t.length,a=new Array(o),p=-e;for(n=0;n<o;n++)i=t[n]+p,p=Math.floor(i/1e7),i%=1e7,a[n]=i<0?i+1e7:i;return"number"==typeof(a=c(a))?(r&&(a=-a),new s(a)):new u(a,r)}function P(t,e){var r,n,i,o,a=t.length,u=e.length,s=h(a+u);for(i=0;i<a;++i){o=t[i];for(var p=0;p<u;++p)r=o*e[p]+s[i+p],n=Math.floor(r/1e7),s[i+p]=r-1e7*n,s[i+p+1]+=n}return g(s),s}function I(t,r){var n,i,o=t.length,a=new Array(o),u=e,s=0;for(i=0;i<o;i++)n=t[i]*r+s,s=Math.floor(n/u),a[i]=n-s*u;for(;s>0;)a[i++]=s%u,s=Math.floor(s/u);return a}function w(t,e){for(var r=[];e-- >0;)r.push(0);return r.concat(t)}function x(t,r,n){return new u(t<e?I(r,t):P(r,f(t)),n)}function N(t){var e,r,n,i,o=t.length,a=h(o+o);for(n=0;n<o;n++){r=0-(i=t[n])*i;for(var u=n;u<o;u++)e=i*t[u]*2+a[n+u]+r,r=Math.floor(e/1e7),a[n+u]=e-1e7*r;a[n+o]=r}return g(a),a}function E(t,e){var r,n,i,o,a=t.length,u=h(a);for(i=0,r=a-1;r>=0;--r)i=(o=1e7*i+t[r])-(n=v(o/e))*e,u[r]=0|n;return[u,0|i]}function T(t,r){var n,i=G(r);if(o)return[new p(t.value/i.value),new p(t.value%i.value)];var l,d=t.value,y=i.value;if(0===y)throw new Error("Cannot divide by zero");if(t.isSmall)return i.isSmall?[new s(v(d/y)),new s(d%y)]:[a[0],t];if(i.isSmall){if(1===y)return[t,a[0]];if(-1==y)return[t.negate(),a[0]];var m=Math.abs(y);if(m<e){l=c((n=E(d,m))[0]);var b=n[1];return t.sign&&(b=-b),"number"==typeof l?(t.sign!==i.sign&&(l=-l),[new s(l),new s(b)]):[new u(l,t.sign!==i.sign),new s(b)]}y=f(m)}var P=R(d,y);if(-1===P)return[a[0],t];if(0===P)return[a[t.sign===i.sign?1:-1],a[0]];l=(n=d.length+y.length<=200?function(t,r){var n,i,o,a,u,s,p,l=t.length,f=r.length,g=e,v=h(r.length),d=r[f-1],y=Math.ceil(g/(2*d)),m=I(t,y),S=I(r,y);for(m.length<=l&&m.push(0),S.push(0),d=S[f-1],i=l-f;i>=0;i--){for(n=g-1,m[i+f]!==d&&(n=Math.floor((m[i+f]*g+m[i+f-1])/d)),o=0,a=0,s=S.length,u=0;u<s;u++)o+=n*S[u],p=Math.floor(o/g),a+=m[i+u]-(o-p*g),o=p,a<0?(m[i+u]=a+g,a=-1):(m[i+u]=a,a=0);for(;0!==a;){for(n-=1,o=0,u=0;u<s;u++)(o+=m[i+u]-g+S[u])<0?(m[i+u]=o+g,o=0):(m[i+u]=o,o=1);a+=o}v[i]=n}return m=E(m,y)[0],[c(v),c(m)]}(d,y):function(t,e){for(var r,n,i,o,a,u=t.length,s=e.length,p=[],l=[];u;)if(l.unshift(t[--u]),g(l),R(l,e)<0)p.push(0);else{i=1e7*l[(n=l.length)-1]+l[n-2],o=1e7*e[s-1]+e[s-2],n>s&&(i=1e7*(i+1)),r=Math.ceil(i/o);do{if(R(a=I(e,r),l)<=0)break;r--}while(r);p.push(r),l=S(l,a)}return p.reverse(),[c(p),c(l)]}(d,y))[0];var w=t.sign!==i.sign,x=n[1],N=t.sign;return"number"==typeof l?(w&&(l=-l),l=new s(l)):l=new u(l,w),"number"==typeof x?(N&&(x=-x),x=new s(x)):x=new u(x,N),[l,x]}function R(t,e){if(t.length!==e.length)return t.length>e.length?1:-1;for(var r=t.length-1;r>=0;r--)if(t[r]!==e[r])return t[r]>e[r]?1:-1;return 0}function V(t){var e=t.abs();return!e.isUnit()&&(!!(e.equals(2)||e.equals(3)||e.equals(5))||!(e.isEven()||e.isDivisibleBy(3)||e.isDivisibleBy(5))&&(!!e.lesser(49)||void 0))}function B(t,e){for(var r,n,o,a=t.prev(),u=a,s=0;u.isEven();)u=u.divide(2),s++;t:for(n=0;n<e.length;n++)if(!t.lesser(e[n])&&!(o=i(e[n]).modPow(u,t)).isUnit()&&!o.equals(a)){for(r=s-1;0!=r;r--){if((o=o.square().mod(t)).isUnit())return!1;if(o.equals(a))continue t}return!1}return!0}u.prototype=Object.create(a.prototype),s.prototype=Object.create(a.prototype),p.prototype=Object.create(a.prototype),u.prototype.add=function(t){var e=G(t);if(this.sign!==e.sign)return this.subtract(e.negate());var r=this.value,n=e.value;return e.isSmall?new u(m(r,Math.abs(n)),this.sign):new u(y(r,n),this.sign)},u.prototype.plus=u.prototype.add,s.prototype.add=function(t){var e=G(t),r=this.value;if(r<0!==e.sign)return this.subtract(e.negate());var n=e.value;if(e.isSmall){if(l(r+n))return new s(r+n);n=f(Math.abs(n))}return new u(m(n,Math.abs(r)),r<0)},s.prototype.plus=s.prototype.add,p.prototype.add=function(t){return new p(this.value+G(t).value)},p.prototype.plus=p.prototype.add,u.prototype.subtract=function(t){var e=G(t);if(this.sign!==e.sign)return this.add(e.negate());var r=this.value,n=e.value;return e.isSmall?b(r,Math.abs(n),this.sign):function(t,e,r){var n;return R(t,e)>=0?n=S(t,e):(n=S(e,t),r=!r),"number"==typeof(n=c(n))?(r&&(n=-n),new s(n)):new u(n,r)}(r,n,this.sign)},u.prototype.minus=u.prototype.subtract,s.prototype.subtract=function(t){var e=G(t),r=this.value;if(r<0!==e.sign)return this.add(e.negate());var n=e.value;return e.isSmall?new s(r-n):b(n,Math.abs(r),r>=0)},s.prototype.minus=s.prototype.subtract,p.prototype.subtract=function(t){return new p(this.value-G(t).value)},p.prototype.minus=p.prototype.subtract,u.prototype.negate=function(){return new u(this.value,!this.sign)},s.prototype.negate=function(){var t=this.sign,e=new s(-this.value);return e.sign=!t,e},p.prototype.negate=function(){return new p(-this.value)},u.prototype.abs=function(){return new u(this.value,!1)},s.prototype.abs=function(){return new s(Math.abs(this.value))},p.prototype.abs=function(){return new p(this.value>=0?this.value:-this.value)},u.prototype.multiply=function(t){var r,n,i,o=G(t),s=this.value,p=o.value,l=this.sign!==o.sign;if(o.isSmall){if(0===p)return a[0];if(1===p)return this;if(-1===p)return this.negate();if((r=Math.abs(p))<e)return new u(I(s,r),l);p=f(r)}return n=s.length,i=p.length,new u(-.012*n-.012*i+15e-6*n*i>0?function t(e,r){var n=Math.max(e.length,r.length);if(n<=30)return P(e,r);n=Math.ceil(n/2);var i=e.slice(n),o=e.slice(0,n),a=r.slice(n),u=r.slice(0,n),s=t(o,u),p=t(i,a),l=t(y(o,i),y(u,a)),f=y(y(s,w(S(S(l,s),p),n)),w(p,2*n));return g(f),f}(s,p):P(s,p),l)},u.prototype.times=u.prototype.multiply,s.prototype._multiplyBySmall=function(t){return l(t.value*this.value)?new s(t.value*this.value):x(Math.abs(t.value),f(Math.abs(this.value)),this.sign!==t.sign)},u.prototype._multiplyBySmall=function(t){return 0===t.value?a[0]:1===t.value?this:-1===t.value?this.negate():x(Math.abs(t.value),this.value,this.sign!==t.sign)},s.prototype.multiply=function(t){return G(t)._multiplyBySmall(this)},s.prototype.times=s.prototype.multiply,p.prototype.multiply=function(t){return new p(this.value*G(t).value)},p.prototype.times=p.prototype.multiply,u.prototype.square=function(){return new u(N(this.value),!1)},s.prototype.square=function(){var t=this.value*this.value;return l(t)?new s(t):new u(N(f(Math.abs(this.value))),!1)},p.prototype.square=function(t){return new p(this.value*this.value)},u.prototype.divmod=function(t){var e=T(this,t);return{quotient:e[0],remainder:e[1]}},p.prototype.divmod=s.prototype.divmod=u.prototype.divmod,u.prototype.divide=function(t){return T(this,t)[0]},p.prototype.over=p.prototype.divide=function(t){return new p(this.value/G(t).value)},s.prototype.over=s.prototype.divide=u.prototype.over=u.prototype.divide,u.prototype.mod=function(t){return T(this,t)[1]},p.prototype.mod=p.prototype.remainder=function(t){return new p(this.value%G(t).value)},s.prototype.remainder=s.prototype.mod=u.prototype.remainder=u.prototype.mod,u.prototype.pow=function(t){var e,r,n,i=G(t),o=this.value,u=i.value;if(0===u)return a[1];if(0===o)return a[0];if(1===o)return a[1];if(-1===o)return i.isEven()?a[1]:a[-1];if(i.sign)return a[0];if(!i.isSmall)throw new Error("The exponent "+i.toString()+" is too large.");if(this.isSmall&&l(e=Math.pow(o,u)))return new s(v(e));for(r=this,n=a[1];!0&u&&(n=n.times(r),--u),0!==u;)u/=2,r=r.square();return n},s.prototype.pow=u.prototype.pow,p.prototype.pow=function(t){var e=G(t),r=this.value,n=e.value,i=BigInt(0),o=BigInt(1),u=BigInt(2);if(n===i)return a[1];if(r===i)return a[0];if(r===o)return a[1];if(r===BigInt(-1))return e.isEven()?a[1]:a[-1];if(e.isNegative())return new p(i);for(var s=this,l=a[1];(n&o)===o&&(l=l.times(s),--n),n!==i;)n/=u,s=s.square();return l},u.prototype.modPow=function(t,e){if(t=G(t),(e=G(e)).isZero())throw new Error("Cannot take modPow with modulus 0");var r=a[1],n=this.mod(e);for(t.isNegative()&&(t=t.multiply(a[-1]),n=n.modInv(e));t.isPositive();){if(n.isZero())return a[0];t.isOdd()&&(r=r.multiply(n).mod(e)),t=t.divide(2),n=n.square().mod(e)}return r},p.prototype.modPow=s.prototype.modPow=u.prototype.modPow,u.prototype.compareAbs=function(t){var e=G(t),r=this.value,n=e.value;return e.isSmall?1:R(r,n)},s.prototype.compareAbs=function(t){var e=G(t),r=Math.abs(this.value),n=e.value;return e.isSmall?r===(n=Math.abs(n))?0:r>n?1:-1:-1},p.prototype.compareAbs=function(t){var e=this.value,r=G(t).value;return(e=e>=0?e:-e)===(r=r>=0?r:-r)?0:e>r?1:-1},u.prototype.compare=function(t){if(t===1/0)return-1;if(t===-1/0)return 1;var e=G(t),r=this.value,n=e.value;return this.sign!==e.sign?e.sign?1:-1:e.isSmall?this.sign?-1:1:R(r,n)*(this.sign?-1:1)},u.prototype.compareTo=u.prototype.compare,s.prototype.compare=function(t){if(t===1/0)return-1;if(t===-1/0)return 1;var e=G(t),r=this.value,n=e.value;return e.isSmall?r==n?0:r>n?1:-1:r<0!==e.sign?r<0?-1:1:r<0?1:-1},s.prototype.compareTo=s.prototype.compare,p.prototype.compare=function(t){if(t===1/0)return-1;if(t===-1/0)return 1;var e=this.value,r=G(t).value;return e===r?0:e>r?1:-1},p.prototype.compareTo=p.prototype.compare,u.prototype.equals=function(t){return 0===this.compare(t)},p.prototype.eq=p.prototype.equals=s.prototype.eq=s.prototype.equals=u.prototype.eq=u.prototype.equals,u.prototype.notEquals=function(t){return 0!==this.compare(t)},p.prototype.neq=p.prototype.notEquals=s.prototype.neq=s.prototype.notEquals=u.prototype.neq=u.prototype.notEquals,u.prototype.greater=function(t){return this.compare(t)>0},p.prototype.gt=p.prototype.greater=s.prototype.gt=s.prototype.greater=u.prototype.gt=u.prototype.greater,u.prototype.lesser=function(t){return this.compare(t)<0},p.prototype.lt=p.prototype.lesser=s.prototype.lt=s.prototype.lesser=u.prototype.lt=u.prototype.lesser,u.prototype.greaterOrEquals=function(t){return this.compare(t)>=0},p.prototype.geq=p.prototype.greaterOrEquals=s.prototype.geq=s.prototype.greaterOrEquals=u.prototype.geq=u.prototype.greaterOrEquals,u.prototype.lesserOrEquals=function(t){return this.compare(t)<=0},p.prototype.leq=p.prototype.lesserOrEquals=s.prototype.leq=s.prototype.lesserOrEquals=u.prototype.leq=u.prototype.lesserOrEquals,u.prototype.isEven=function(){return 0==(1&this.value[0])},s.prototype.isEven=function(){return 0==(1&this.value)},p.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},u.prototype.isOdd=function(){return 1==(1&this.value[0])},s.prototype.isOdd=function(){return 1==(1&this.value)},p.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},u.prototype.isPositive=function(){return!this.sign},s.prototype.isPositive=function(){return this.value>0},p.prototype.isPositive=s.prototype.isPositive,u.prototype.isNegative=function(){return this.sign},s.prototype.isNegative=function(){return this.value<0},p.prototype.isNegative=s.prototype.isNegative,u.prototype.isUnit=function(){return!1},s.prototype.isUnit=function(){return 1===Math.abs(this.value)},p.prototype.isUnit=function(){return this.abs().value===BigInt(1)},u.prototype.isZero=function(){return!1},s.prototype.isZero=function(){return 0===this.value},p.prototype.isZero=function(){return this.value===BigInt(0)},u.prototype.isDivisibleBy=function(t){var e=G(t);return!e.isZero()&&(!!e.isUnit()||(0===e.compareAbs(2)?this.isEven():this.mod(e).isZero()))},p.prototype.isDivisibleBy=s.prototype.isDivisibleBy=u.prototype.isDivisibleBy,u.prototype.isPrime=function(t){var e=V(this);if(void 0!==e)return e;var r=this.abs(),n=r.bitLength();if(n<=64)return B(r,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var o=Math.log(2)*n.toJSNumber(),a=Math.ceil(!0===t?2*Math.pow(o,2):o),u=[],s=0;s<a;s++)u.push(i(s+2));return B(r,u)},p.prototype.isPrime=s.prototype.isPrime=u.prototype.isPrime,u.prototype.isProbablePrime=function(t,e){var r=V(this);if(void 0!==r)return r;for(var n=this.abs(),o=void 0===t?5:t,a=[],u=0;u<o;u++)a.push(i.randBetween(2,n.minus(2),e));return B(n,a)},p.prototype.isProbablePrime=s.prototype.isProbablePrime=u.prototype.isProbablePrime,u.prototype.modInv=function(t){for(var e,r,n,o=i.zero,a=i.one,u=G(t),s=this.abs();!s.isZero();)e=u.divide(s),r=o,n=u,o=a,u=s,a=r.subtract(e.multiply(a)),s=n.subtract(e.multiply(s));if(!u.isUnit())throw new Error(this.toString()+" and "+t.toString()+" are not co-prime");return-1===o.compare(0)&&(o=o.add(t)),this.isNegative()?o.negate():o},p.prototype.modInv=s.prototype.modInv=u.prototype.modInv,u.prototype.next=function(){var t=this.value;return this.sign?b(t,1,this.sign):new u(m(t,1),this.sign)},s.prototype.next=function(){var t=this.value;return t+1<r?new s(t+1):new u(n,!1)},p.prototype.next=function(){return new p(this.value+BigInt(1))},u.prototype.prev=function(){var t=this.value;return this.sign?new u(m(t,1),!0):b(t,1,this.sign)},s.prototype.prev=function(){var t=this.value;return t-1>-r?new s(t-1):new u(n,!0)},p.prototype.prev=function(){return new p(this.value-BigInt(1))};for(var _=[1];2*_[_.length-1]<=e;)_.push(2*_[_.length-1]);var M=_.length,A=_[M-1];function O(t){return Math.abs(t)<=e}function F(t,e,r){e=G(e);for(var n=t.isNegative(),o=e.isNegative(),a=n?t.not():t,u=o?e.not():e,s=0,p=0,l=null,f=null,c=[];!a.isZero()||!u.isZero();)s=(l=T(a,A))[1].toJSNumber(),n&&(s=A-1-s),p=(f=T(u,A))[1].toJSNumber(),o&&(p=A-1-p),a=l[0],u=f[0],c.push(r(s,p));for(var g=0!==r(n?1:0,o?1:0)?i(-1):i(0),h=c.length-1;h>=0;h-=1)g=g.multiply(A).add(i(c[h]));return g}u.prototype.shiftLeft=function(t){var e=G(t).toJSNumber();if(!O(e))throw new Error(String(e)+" is too large for shifting.");if(e<0)return this.shiftRight(-e);var r=this;if(r.isZero())return r;for(;e>=M;)r=r.multiply(A),e-=M-1;return r.multiply(_[e])},p.prototype.shiftLeft=s.prototype.shiftLeft=u.prototype.shiftLeft,u.prototype.shiftRight=function(t){var e,r=G(t).toJSNumber();if(!O(r))throw new Error(String(r)+" is too large for shifting.");if(r<0)return this.shiftLeft(-r);for(var n=this;r>=M;){if(n.isZero()||n.isNegative()&&n.isUnit())return n;n=(e=T(n,A))[1].isNegative()?e[0].prev():e[0],r-=M-1}return(e=T(n,_[r]))[1].isNegative()?e[0].prev():e[0]},p.prototype.shiftRight=s.prototype.shiftRight=u.prototype.shiftRight,u.prototype.not=function(){return this.negate().prev()},p.prototype.not=s.prototype.not=u.prototype.not,u.prototype.and=function(t){return F(this,t,(function(t,e){return t&e}))},p.prototype.and=s.prototype.and=u.prototype.and,u.prototype.or=function(t){return F(this,t,(function(t,e){return t|e}))},p.prototype.or=s.prototype.or=u.prototype.or,u.prototype.xor=function(t){return F(this,t,(function(t,e){return t^e}))},p.prototype.xor=s.prototype.xor=u.prototype.xor;function q(t){var r=t.value,n="number"==typeof r?r|1<<30:"bigint"==typeof r?r|BigInt(1<<30):r[0]+r[1]*e|1073758208;return n&-n}function z(t,e){return t=G(t),e=G(e),t.greater(e)?t:e}function C(t,e){return t=G(t),e=G(e),t.lesser(e)?t:e}function k(t,e){if(t=G(t).abs(),e=G(e).abs(),t.equals(e))return t;if(t.isZero())return e;if(e.isZero())return t;for(var r,n,i=a[1];t.isEven()&&e.isEven();)r=C(q(t),q(e)),t=t.divide(r),e=e.divide(r),i=i.multiply(r);for(;t.isEven();)t=t.divide(q(t));do{for(;e.isEven();)e=e.divide(q(e));t.greater(e)&&(n=e,e=t,t=n),e=e.subtract(t)}while(!e.isZero());return i.isUnit()?t:t.multiply(i)}u.prototype.bitLength=function(){var t=this;return t.compareTo(i(0))<0&&(t=t.negate().subtract(i(1))),0===t.compareTo(i(0))?i(0):i(function t(e,r){if(r.compareTo(e)<=0){var n=t(e,r.square(r)),o=n.p,a=n.e,u=o.multiply(r);return u.compareTo(e)<=0?{p:u,e:2*a+1}:{p:o,e:2*a}}return{p:i(1),e:0}}(t,i(2)).e).add(i(1))},p.prototype.bitLength=s.prototype.bitLength=u.prototype.bitLength;var L=function(t,e,r,n){r=r||"0123456789abcdefghijklmnopqrstuvwxyz",t=String(t),n||(t=t.toLowerCase(),r=r.toLowerCase());var i,o=t.length,a=Math.abs(e),u={};for(i=0;i<r.length;i++)u[r[i]]=i;for(i=0;i<o;i++){if("-"!==(l=t[i])&&(l in u&&u[l]>=a)){if("1"===l&&1===a)continue;throw new Error(l+" is not a valid digit in base "+e+".")}}e=G(e);var s=[],p="-"===t[0];for(i=p?1:0;i<t.length;i++){var l;if((l=t[i])in u)s.push(G(u[l]));else{if("<"!==l)throw new Error(l+" is not a valid character");var f=i;do{i++}while(">"!==t[i]&&i<t.length);s.push(G(t.slice(f+1,i)))}}return D(s,e,p)};function D(t,e,r){var n,i=a[0],o=a[1];for(n=t.length-1;n>=0;n--)i=i.add(t[n].times(o)),o=o.times(e);return r?i.negate():i}function H(t,e){if((e=i(e)).isZero()){if(t.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(e.equals(-1)){if(t.isZero())return{value:[0],isNegative:!1};if(t.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-t.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var r=Array.apply(null,Array(t.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return r.unshift([1]),{value:[].concat.apply([],r),isNegative:!1}}var n=!1;if(t.isNegative()&&e.isPositive()&&(n=!0,t=t.abs()),e.isUnit())return t.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(t.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:n};for(var o,a=[],u=t;u.isNegative()||u.compareAbs(e)>=0;){o=u.divmod(e),u=o.quotient;var s=o.remainder;s.isNegative()&&(s=e.minus(s).abs(),u=u.next()),a.push(s.toJSNumber())}return a.push(u.toJSNumber()),{value:a.reverse(),isNegative:n}}function j(t,e,r){var n=H(t,e);return(n.isNegative?"-":"")+n.value.map((function(t){return function(t,e){return t<(e=e||"0123456789abcdefghijklmnopqrstuvwxyz").length?e[t]:"<"+t+">"}(t,r)})).join("")}function Z(t){if(l(+t)){var e=+t;if(e===v(e))return o?new p(BigInt(e)):new s(e);throw new Error("Invalid integer: "+t)}var r="-"===t[0];r&&(t=t.slice(1));var n=t.split(/e/i);if(n.length>2)throw new Error("Invalid integer: "+n.join("e"));if(2===n.length){var i=n[1];if("+"===i[0]&&(i=i.slice(1)),(i=+i)!==v(i)||!l(i))throw new Error("Invalid integer: "+i+" is not a valid exponent.");var a=n[0],f=a.indexOf(".");if(f>=0&&(i-=a.length-f-1,a=a.slice(0,f)+a.slice(f+1)),i<0)throw new Error("Cannot include negative exponent part for integers");t=a+=new Array(i+1).join("0")}if(!/^([0-9][0-9]*)$/.test(t))throw new Error("Invalid integer: "+t);if(o)return new p(BigInt(r?"-"+t:t));for(var c=[],h=t.length,d=h-7;h>0;)c.push(+t.slice(d,h)),(d-=7)<0&&(d=0),h-=7;return g(c),new u(c,r)}function G(t){return"number"==typeof t?function(t){if(o)return new p(BigInt(t));if(l(t)){if(t!==v(t))throw new Error(t+" is not an integer.");return new s(t)}return Z(t.toString())}(t):"string"==typeof t?Z(t):"bigint"==typeof t?new p(t):t}u.prototype.toArray=function(t){return H(this,t)},s.prototype.toArray=function(t){return H(this,t)},p.prototype.toArray=function(t){return H(this,t)},u.prototype.toString=function(t,e){if(void 0===t&&(t=10),10!==t)return j(this,t,e);for(var r,n=this.value,i=n.length,o=String(n[--i]);--i>=0;)r=String(n[i]),o+="0000000".slice(r.length)+r;return(this.sign?"-":"")+o},s.prototype.toString=function(t,e){return void 0===t&&(t=10),10!=t?j(this,t,e):String(this.value)},p.prototype.toString=s.prototype.toString,p.prototype.toJSON=u.prototype.toJSON=s.prototype.toJSON=function(){return this.toString()},u.prototype.valueOf=function(){return parseInt(this.toString(),10)},u.prototype.toJSNumber=u.prototype.valueOf,s.prototype.valueOf=function(){return this.value},s.prototype.toJSNumber=s.prototype.valueOf,p.prototype.valueOf=p.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};for(var W=0;W<1e3;W++)a[W]=G(W),W>0&&(a[-W]=G(-W));return a.one=a[1],a.zero=a[0],a.minusOne=a[-1],a.max=z,a.min=C,a.gcd=k,a.lcm=function(t,e){return t=G(t).abs(),e=G(e).abs(),t.divide(k(t,e)).multiply(e)},a.isInstance=function(t){return t instanceof u||t instanceof s||t instanceof p},a.randBetween=function(t,r,n){t=G(t),r=G(r);var i=n||Math.random,o=C(t,r),u=z(t,r).subtract(o).add(1);if(u.isSmall)return o.add(Math.floor(i()*u));for(var s=H(u,e).value,p=[],l=!0,f=0;f<s.length;f++){var c=l?s[f]:e,g=v(i()*c);p.push(g),g<c&&(l=!1)}return o.add(a.fromArray(p,e,!1))},a.fromArray=function(t,e,r){return D(t.map(G),G(e||10),r)},a}();t.hasOwnProperty("exports")&&(t.exports=i),void 0===(n=function(){return i}.call(e,r,e,t))||(t.exports=n)}).call(this,r(11)(t))},function(t,e,r){"use strict";var n=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.Validator=void 0;var i=r(0),o=r(0),a=r(1),u=r(4),s=r(3),p=r(3),l=function(){function t(){}return t.isWithinRange=function(t,e,r){return t.greaterOrEquals(e)&&t.lesserOrEquals(r)},t.isValidAsnNumber=function(e){var r=this.isWithinRange(e,a.zero,this.THIRTY_TWO_BIT_SIZE);return[r,r?[]:[t.invalidAsnRangeMessage]]},t.isValid16BitAsnNumber=function(e){var r=t.isWithinRange(e,a.zero,t.SIXTEEN_BIT_SIZE);return[r,r?[]:[t.invalid16BitAsnRangeMessage]]},t.isValidIPv4Number=function(e){var r=this.isWithinRange(e,a.zero,this.THIRTY_TWO_BIT_SIZE);return r?[r,[]]:[r,[t.invalidIPv4NumberMessage]]},t.isValidIPv6Number=function(e){var r=this.isWithinRange(e,a.zero,this.ONE_HUNDRED_AND_TWENTY_EIGHT_BIT_SIZE);return r?[r,[]]:[r,[t.invalidIPv6NumberMessage]]},t.isValidIPv4Octet=function(e){var r=this.isWithinRange(e,a.zero,this.EIGHT_BIT_SIZE);return[r,r?[]:[t.invalidOctetRangeMessage]]},t.isValidIPv6Hexadecatet=function(e){var r=this.isWithinRange(e,a.zero,this.SIXTEEN_BIT_SIZE);return r?[r,[]]:[r,[t.invalidHexadecatetMessage]]},t.isValidIPv4String=function(e){var r=e.split(".");if(4!=r.length||r.includes(""))return[!1,[t.invalidOctetCountMessage]];var n=r.every((function(e){return!!t.isNumeric(e)&&t.isValidIPv4Octet(a(e))[0]}));return n?[n=t.IPV4_PATTERN.test(e),n?[]:[t.invalidIPv4PatternMessage]]:[!1,[t.invalidOctetRangeMessage]]},t.isValidIPv6String=function(e){try{var r=u.expandIPv6Number(e).split(":");if(8!=r.length)return[!1,[t.invalidHexadecatetCountMessage]];var n=r.every((function(e){return!!t.isHexadecatet(e)&&t.isValidIPv6Hexadecatet(a(parseInt(e,16)))[0]}));return n?[n=t.IPV6_PATTERN.test(e),n?[]:[t.invalidIPv6PatternMessage]]:[!1,[t.invalidHexadecatetMessage]]}catch(t){return[!1,[t]]}},t.isValidPrefixValue=function(e,r){var n;return"IPv4"===r?[n=t.isWithinRange(a(e),a.zero,a(32)),n?[]:[t.invalidPrefixValueMessage]]:"IPv6"===r?[n=t.isWithinRange(a(e),a.zero,a(128)),n?[]:[t.invalidPrefixValueMessage]]:[!1,[t.invalidInetNumType]]},t.isValidIPv4Mask=function(e){var r=i.dottedDecimalNotationToBinaryString(e),n=t.IPV4_CONTIGUOUS_MASK_BIT_PATTERN.test(r);return n?[n,[]]:[n,[t.invalidMaskMessage]]},t.isValidIPv6Mask=function(e){var r=p.hexadectetNotationToBinaryString(e),n=t.IPV6_CONTIGUOUS_MASK_BIT_PATTERN.test(r);return n?[n,[]]:[n,[t.invalidMaskMessage]]},t.isValidIPv4CidrNotation=function(e){var r=e.split("/");if(2!==r.length||0===r[0].length||0===r[1].length)return[!1,[t.invalidIPv4CidrNotationMessage]];var i=r[0],o=r[1];if(isNaN(Number(o)))return[!1,[t.invalidIPv4CidrNotationMessage]];var a=n(t.isValidIPv4String(i),2),u=a[0],s=a[1],p=n(t.isValidPrefixValue(Number(o),"IPv4"),2),l=p[0],f=p[1],c=u&&l,g=s.concat(f);return c?[c,[]]:[c,g]},t.isValidIPv4CidrRange=function(e){return t.isValidCidrRange(e,t.isValidIPv4CidrNotation,i.dottedDecimalNotationToBinaryString,(function(t){return o.cidrPrefixToMaskBinaryString(t,"IPv4")}))},t.isValidIPv6CidrRange=function(e){return t.isValidCidrRange(e,t.isValidIPv6CidrNotation,s.colonHexadecimalNotationToBinaryString,(function(t){return o.cidrPrefixToMaskBinaryString(t,"IPv6")}))},t.isValidCidrRange=function(e,r,n,i){var o=r(e);if(!o[0])return o;var u=e.split("/"),s=u[0],p=u[1],l=a(n(s),2),f=a(i(parseInt(p)),2),c=l.and(f).equals(l);return c?[c,[]]:[c,[t.InvalidIPCidrRangeMessage]]},t.isValidIPv4RangeString=function(e){return this.isValidRange(e,t.isValidIPv4String,(function(t,e){return a(i.dottedDecimalNotationToBinaryString(t)).greaterOrEquals(i.dottedDecimalNotationToBinaryString(e))}))},t.isValidIPv6RangeString=function(e){return this.isValidRange(e,t.isValidIPv6String,(function(t,e){return a(p.hexadectetNotationToBinaryString(t)).greaterOrEquals(p.hexadectetNotationToBinaryString(e))}))},t.isValidRange=function(e,r,i){var o=e.split("-").map((function(t){return t.trim()}));if(2!==o.length||0===o[0].length||0===o[1].length)return[!1,[t.invalidRangeNotationMessage]];var a=o[0],u=o[1],s=n(r(a),2),p=s[0],l=s[1],f=n(r(u),2),c=f[0],g=f[1],h=p&&c;if(h&&i(a,u))return[!1,[t.invalidRangeFirstNotGreaterThanLastMessage]];var v=l.concat(g);return h?[h,[]]:[h,v]},t.isValidIPv6CidrNotation=function(e){var r=t.IPV6_RANGE_PATTERN.test(e);return r?[r,[]]:[r,[t.invalidIPv6CidrNotationString]]},t.isValidBinaryString=function(e){return/^([10])+$/.test(e)?[!0,[]]:[!1,[t.invalidBinaryStringErrorMessage]]},t.isNumeric=function(t){return/^(\d+)$/.test(t)},t.isHexadecatet=function(t){return/^[0-9A-Fa-f]{4}$/.test(t)},t.IPV4_PATTERN=new RegExp(/^(0?[0-9]?[0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\.(0?[0-9]?[0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\.(0?[0-9]?[0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\.(0?[0-9]?[0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])$/),t.IPV6_PATTERN=new RegExp(/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/),t.IPV4_RANGE_PATTERN=new RegExp(/^(0?[0-9]?[0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\.(0?[0-9]?[0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\.(0?[0-9]?[0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\.(0?[0-9]?[0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])(\/)([1-9]|[1-2][0-9]|3[0-2])$/),t.IPV6_RANGE_PATTERN=new RegExp(/^s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]d|1dd|[1-9]?d)(.(25[0-5]|2[0-4]d|1dd|[1-9]?d)){3}))|:)))(%.+)?s*(\/([0-9]|[1-9][0-9]|1[0-1][0-9]|12[0-8]))?$/),t.IPV4_CONTIGUOUS_MASK_BIT_PATTERN=new RegExp(/^(1){0,32}(0){0,32}$/),t.IPV6_CONTIGUOUS_MASK_BIT_PATTERN=new RegExp(/^(1){0,128}(0){0,128}$/),t.EIGHT_BIT_SIZE=a("1".repeat(8),2),t.SIXTEEN_BIT_SIZE=a("1".repeat(16),2),t.THIRTY_TWO_BIT_SIZE=a("1".repeat(32),2),t.ONE_HUNDRED_AND_TWENTY_EIGHT_BIT_SIZE=a("1".repeat(128),2),t.IPV4_SIZE=a("4294967296"),t.IPV6_SIZE=a("340282366920938463463374607431768211456"),t.invalidAsnRangeMessage="ASN number given less than zero or is greater than 32bit",t.invalid16BitAsnRangeMessage="ASN number given less than zero or is greater than 16bit",t.invalidIPv4NumberMessage="IPv4 number given less than zero or is greater than 32bit",t.invalidIPv6NumberMessage="IPv6 number given less than zero or is greater than 128bit",t.invalidOctetRangeMessage="Value given contains an invalid Octet; Value is less than zero or is greater than 8bit",t.invalidHexadecatetMessage="The value given is less than zero or is greater than 16bit",t.invalidOctetCountMessage="An IP4 number cannot have less or greater than 4 octets",t.invalidHexadecatetCountMessage="An IP6 number must have exactly 8 hexadecatet",t.invalidMaskMessage="The Mask is invalid",t.invalidPrefixValueMessage="A Prefix value cannot be less than 0 or greater than 32",t.invalidIPv4CidrNotationMessage="Cidr notation should be in the form [ip number]/[range]",t.InvalidIPCidrRangeMessage="Given IP number portion must is not the start of the range",t.invalidRangeNotationMessage="Range notation should be in the form [first ip]-[last ip]",t.invalidRangeFirstNotGreaterThanLastMessage="First IP in [first ip]-[last ip] must be less than Last IP",t.invalidIPv6CidrNotationString="A Cidr notation string should contain an IPv6 number and prefix",t.takeOutOfRangeSizeMessage="$count is greater than $size, the size of the range",t.cannotSplitSingleRangeErrorMessage="Cannot split an IP range with a single IP number",t.invalidInetNumType="Given ipNumType must be either InetNumType.IPv4 or InetNumType.IPv6",t.invalidBinaryStringErrorMessage="Binary string should contain only contiguous 1s and 0s",t.invalidIPRangeSizeMessage="Given size is zero or greater than maximum size of $iptype",t.invalidIPRangeSizeForCidrMessage="Given size can't be created via cidr prefix",t.invalidIPv4PatternMessage="Given IPv4 is not confirm to a valid IPv6 address",t.invalidIPv6PatternMessage="Given IPv6 is not confirm to a valid IPv6 address",t}();e.Validator=l},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hexadectetNotationToBinaryString=e.binaryStringToHexadecimalString=e.colonHexadecimalNotationToBinaryString=e.hexadecimalStringToHexadecatetString=e.hexadecimalStringToBinaryString=e.bigIntegerNumberToHexadecimalString=void 0;var n=r(1),i=r(4),o=r(0);e.bigIntegerNumberToHexadecimalString=function(t){return t.toString(16)},e.hexadecimalStringToBinaryString=function(t){return n(t,16).toString(2)},e.hexadecimalStringToHexadecatetString=function(t){var r=e.hexadecimalStringToBinaryString(t);if(r.length>16)throw new Error("Given decimal in binary contains digits greater than an Hexadecatet");return o.leftPadWithZeroBit(r,16)},e.colonHexadecimalNotationToBinaryString=function(t){return i.expandIPv6Number(t).split(":").reduce((function(t,r){return t.concat(e.hexadecimalStringToHexadecatetString(r))}),"")},e.binaryStringToHexadecimalString=function(t){return n(t,2).toString(16)},e.hexadectetNotationToBinaryString=function(t){return i.expandIPv6Number(t).split(":").reduce((function(t,r){return t.concat(o.leftPadWithZeroBit(e.hexadecimalStringToBinaryString(r),16))}),"")}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.collapseIPv6Number=e.expandIPv6Number=void 0;var n=r(0),i=r(2),o=function(t){return t.includes("/")?"/"+t.split("/")[1]:""};e.expandIPv6Number=function(t){var e=function(t){return t.map((function(t){return n.leftPadWithZeroBit(t,4)})).join(":")};if(/(:){3,}/.test(t))throw"given IPv6 contains consecutive : more than two";var r=o(t);if(t.includes("/")&&(t=t.split("/")[0]),!i.Validator.IPV6_PATTERN.test(t))throw Error(i.Validator.invalidIPv6PatternMessage);if(t.includes("::")){var a=t.split("::"),u=a[0],s=a[1],p=u.split(":").filter((function(t){return""!==t})),l=s.split(":").filter((function(t){return""!==t})),f=function(t){for(var e=[],r=0;r<t;r++)e.push("0000");return e.join(":")}(8-(p.length+l.length)),c=e(p);""!==c&&(c+=":");var g=e(l);return""!==g&&(g=":"+g),""+c+f+g+r}return""+e(t.split(":"))+r},e.collapseIPv6Number=function(t){var e=o(t);if(t.includes("/")&&(t=t.split("/")[0]),!i.Validator.IPV6_PATTERN.test(t))throw Error(i.Validator.invalidIPv6PatternMessage);var r=t.split(":").map((function(t){var e=t.replace(/^0+/,"");return""!==e?e:"0"})).join(":").replace(/((^0)?(:0){2,}|(^0)(:0){1,})/,":");return":"===r.slice(-1)?r+":"+e:""+(r=r.replace(":0:","::"))+e}},function(t,e,r){"use strict";var n=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.Hexadecatet=void 0;var i=r(2),o=r(1),a=function(){function t(t){var e;e="string"==typeof t?parseInt(t,16):parseInt(String(t),16);var r=n(i.Validator.isValidIPv6Hexadecatet(o(e)),2),a=r[0],u=r[1];if(!a)throw Error(u.filter((function(t){return""!==t})).toString());this.value=e}return t.fromString=function(e){return new t(e)},t.fromNumber=function(e){return new t(e)},t.prototype.getValue=function(){return this.value},t.prototype.toString=function(){return this.value.toString(16)},t}();e.Hexadecatet=a},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.isIPv4=e.IPv6Mask=e.IPv4Mask=e.IPv6=e.Asn=e.IPv4=e.AbstractIPNum=void 0;var a=r(8),u=r(2),s=r(1),p=r(0),l=r(0),f=r(0),c=r(0),g=r(0),h=r(5),v=r(3),d=r(4),y=r(3),m=function(){function t(){}return t.prototype.getValue=function(){return this.value},t.prototype.toBinaryString=function(){return c.leftPadWithZeroBit(this.value.toString(2),this.bitSize)},t.prototype.hasNext=function(){return this.value.lesser(this.maximumBitSize)},t.prototype.hasPrevious=function(){return this.value.greater(s.zero)},t.prototype.isEquals=function(t){return this.value.equals(t.value)},t.prototype.isLessThan=function(t){return this.value.lt(t.value)},t.prototype.isGreaterThan=function(t){return this.value.gt(t.value)},t.prototype.isLessThanOrEquals=function(t){return this.value.lesserOrEquals(t.value)},t.prototype.isGreaterThanOrEquals=function(t){return this.value.greaterOrEquals(t.value)},t}();e.AbstractIPNum=m;var S=function(t){function e(e){var r=t.call(this)||this;if(r.bitSize=32,r.maximumBitSize=u.Validator.THIRTY_TWO_BIT_SIZE,r.type="IPv4",r.octets=[],r.separator=".","string"==typeof e){var n=o(r.constructFromDecimalDottedString(e),2),i=n[0],a=n[1];r.value=i,r.octets=a}else{var s=o(r.constructFromBigIntegerValue(e),2);i=s[0],a=s[1];r.value=i,r.octets=a}return r}return i(e,t),e.fromBigInteger=function(t){return new e(t)},e.fromDecimalDottedString=function(t){return new e(t)},e.fromString=function(t){return e.fromDecimalDottedString(t)},e.fromBinaryString=function(t){var r=u.Validator.isValidBinaryString(t);if(r[0])return new e(f.parseBinaryStringToBigInteger(t));throw Error(r[1].join(","))},e.prototype.toString=function(){return this.octets.map((function(t){return t.toString()})).join(this.separator)},e.prototype.getOctets=function(){return this.octets},e.prototype.nextIPNumber=function(){return e.fromBigInteger(this.getValue().add(1))},e.prototype.previousIPNumber=function(){return e.fromBigInteger(this.getValue().minus(1))},e.prototype.toIPv4MappedIPv6=function(){var t="1".repeat(16)+this.toBinaryString();return P.fromBinaryString(t)},e.prototype.constructFromDecimalDottedString=function(t){var e,r=o(u.Validator.isValidIPv4String(t),2),n=r[0],i=r[1];if(!n)throw new Error(i.filter((function(t){return""!==t})).toString());return e=t.split(".").map((function(t){return a.Octet.fromString(t)})),[s(p.dottedDecimalNotationToBinaryString(t),2),e]},e.prototype.constructFromBigIntegerValue=function(t){var e=o(u.Validator.isValidIPv4Number(t),2),r=e[0],n=e[1];if(!r)throw new Error(n.filter((function(t){return""!==t})).toString());var i=l.bigIntegerNumberToBinaryString(t);return[t,this.binaryStringToDecimalOctets(i)]},e.prototype.binaryStringToDecimalOctets=function(t){return t.length<32&&(t=c.leftPadWithZeroBit(t,32)),t.match(/.{1,8}/g).map((function(t){return a.Octet.fromString(f.parseBinaryStringToBigInteger(t).toString())}))},e}(m);e.IPv4=S;var b=function(t){function e(r){var n=t.call(this)||this;if(n.bitSize=32,n.maximumBitSize=u.Validator.THIRTY_TWO_BIT_SIZE,n.type="ASN","string"==typeof r)e.startWithASprefix(r)?n.value=s(parseInt(r.substring(2))):-1!=r.indexOf(".")?n.value=s(n.parseFromDotNotation(r)):n.value=s(parseInt(r));else{var i=s(r),a=o(u.Validator.isValidAsnNumber(i),2),p=a[0],l=a[1];if(!p)throw Error(l.filter((function(t){return""!==t})).toString());n.value=i}return n}return i(e,t),e.fromString=function(t){return new e(t)},e.fromNumber=function(t){return new e(t)},e.fromBinaryString=function(t){var r=u.Validator.isValidBinaryString(t);if(r[0])return new e(parseInt(t,2));throw Error(r[1].join(","))},e.prototype.toString=function(){var t=this.value.toString();return""+e.AS_PREFIX+t},e.prototype.toASPlain=function(){return this.value.toString()},e.prototype.toASDot=function(){return this.value.valueOf()>=65536?this.toASDotPlus():this.toASPlain()},e.prototype.toASDotPlus=function(){var t=Math.floor(this.value.valueOf()/65535);return t+"."+(this.value.valueOf()%65535-t)},e.prototype.toBinaryString=function(){return g.decimalNumberToBinaryString(this.value.valueOf())},e.prototype.is16Bit=function(){return o(u.Validator.isValid16BitAsnNumber(this.value),1)[0]},e.prototype.is32Bit=function(){return!this.is16Bit()},e.prototype.nextIPNumber=function(){return new e(this.value.valueOf()+1)},e.prototype.previousIPNumber=function(){return new e(this.value.valueOf()-1)},e.startWithASprefix=function(t){return 0===t.indexOf(e.AS_PREFIX)},e.prototype.parseFromDotNotation=function(t){var e=t.split("."),r=parseInt(e[0]);return 65535*r+(parseInt(e[1])+r)},e.AS_PREFIX="AS",e}(m);e.Asn=b;var P=function(t){function e(e){var r=t.call(this)||this;if(r.bitSize=128,r.maximumBitSize=u.Validator.ONE_HUNDRED_AND_TWENTY_EIGHT_BIT_SIZE,r.type="IPv6",r.hexadecatet=[],r.separator=":","string"==typeof e){var n=d.expandIPv6Number(e),i=o(r.constructFromHexadecimalDottedString(n),2),a=i[0],s=i[1];r.value=a,r.hexadecatet=s}else{var p=o(r.constructFromBigIntegerValue(e),2);a=p[0],s=p[1];r.value=a,r.hexadecatet=s}return r}return i(e,t),e.fromBigInteger=function(t){return new e(t)},e.fromHexadecimalString=function(t){return new e(t)},e.fromString=function(t){return e.fromHexadecimalString(t)},e.fromBinaryString=function(t){var r=u.Validator.isValidBinaryString(t);if(r[0]){var n=c.leftPadWithZeroBit(t,128);return new e(f.parseBinaryStringToBigInteger(n))}throw Error(r[1].join(","))},e.fromIPv4=function(t){return t.toIPv4MappedIPv6()},e.fromIPv4DotDecimalString=function(t){return new S(t).toIPv4MappedIPv6()},e.prototype.toString=function(){var t=this.hexadecatet.map((function(t){return t.toString()})).join(":");return this.hexadecatet.length<8?"::"+t:t},e.prototype.getHexadecatet=function(){return this.hexadecatet},e.prototype.nextIPNumber=function(){return e.fromBigInteger(this.getValue().add(1))},e.prototype.previousIPNumber=function(){return e.fromBigInteger(this.getValue().minus(1))},e.prototype.constructFromBigIntegerValue=function(t){var e=o(u.Validator.isValidIPv6Number(t),2),r=e[0],n=e[1];if(!r)throw new Error(n.filter((function(t){return""!==t})).toString());var i=l.bigIntegerNumberToBinaryString(t);return[t,this.binaryStringToHexadecatets(i)]},e.prototype.constructFromHexadecimalDottedString=function(t){var e=o(u.Validator.isValidIPv6String(t),2),r=e[0],n=e[1];if(!r)throw new Error(n.filter((function(t){return""!==t})).toString());var i=t.split(":").map((function(t){return h.Hexadecatet.fromString(t)}));return[s(y.hexadectetNotationToBinaryString(t),2),i]},e.prototype.binaryStringToHexadecatets=function(t){for(var e=v.binaryStringToHexadecimalString(t);e.length%4!=0;)e="0"+e;return e.match(/.{1,4}/g).map((function(t){return h.Hexadecatet.fromString(t)}))},e}(m);e.IPv6=P;var I=function(t){function e(e){var r,n,i,l=t.call(this,e)||this;if(l.octets=[],n=(r=o(u.Validator.isValidIPv4Mask(e),2))[0],i=r[1],!n)throw new Error(i.filter((function(t){return""!==t})).toString());var f=e.split(".");l.octets=f.map((function(t){return a.Octet.fromString(t)}));var c=p.dottedDecimalNotationToBinaryString(e);return l.prefix=(c.match(/1/g)||[]).length,l.value=s(c,2),l}return i(e,t),e.fromDecimalDottedString=function(t){return new e(t)},e}(S);e.IPv4Mask=I;var w=function(t){function e(e){var r,n,i,a=t.call(this,e)||this;if(a.hexadecatet=[],n=(r=o(u.Validator.isValidIPv6Mask(e),2))[0],i=r[1],!n)throw new Error(i.filter((function(t){return""!==t})).toString());var p=e.split(":");a.hexadecatet=p.map((function(t){return h.Hexadecatet.fromString(t)}));var l=y.hexadectetNotationToBinaryString(e);return a.prefix=(l.match(/1/g)||[]).length,a.value=s(l,2),a.value=s(y.hexadectetNotationToBinaryString(e),2),a}return i(e,t),e.fromHexadecimalString=function(t){return new e(t)},e}(P);e.IPv6Mask=w,e.isIPv4=function(t){return 32===t.bitSize}},function(t,e,r){"use strict";var n=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.isIPv4Prefix=e.IPv6Prefix=e.IPv4Prefix=void 0;var i=r(2),o=r(6),a=r(0),u=r(3),s=r(5),p=r(1),l=function(){function t(t){var e,r,o;if(this.type="IPv4",this.bitValue=p(32),r=(e=n(i.Validator.isValidPrefixValue(t,"IPv4"),2))[0],o=e[1],!r)throw new Error(o.filter((function(t){return""!==t})).toString());this.value=t}return t.fromNumber=function(e){return new t(e)},t.fromRangeSize=function(e){var r=e.equals(p.one)?32:32-c(e,i.Validator.IPV4_SIZE);return t.fromNumber(r)},t.prototype.getValue=function(){return this.value},t.prototype.toString=function(){return this.value.toString()},t.prototype.toMask=function(){var t="1".repeat(this.value),e="0".repeat(32-this.value);return o.IPv4Mask.fromDecimalDottedString(this.toDecimalNotation(""+t+e))},t.prototype.toRangeSize=function(){return p(2).pow(this.bitValue.minus(p(this.getValue())))},t.prototype.merge=function(){return new t(this.value-1)},t.prototype.split=function(){return new t(this.value+1)},t.prototype.toDecimalNotation=function(t){return a.parseBinaryStringToBigInteger(t.substr(0,8))+"."+a.parseBinaryStringToBigInteger(t.substr(8,8))+"."+a.parseBinaryStringToBigInteger(t.substr(16,8))+"."+a.parseBinaryStringToBigInteger(t.substr(24,8))},t}();e.IPv4Prefix=l;var f=function(){function t(t){var e,r,o;if(this.type="IPv6",this.bitValue=p(128),r=(e=n(i.Validator.isValidPrefixValue(t,"IPv6"),2))[0],o=e[1],!r)throw new Error(o.filter((function(t){return""!==t})).toString());this.value=t}return t.fromNumber=function(e){return new t(e)},t.fromRangeSize=function(e){var r=e.equals(p.one)?128:128-c(e,i.Validator.IPV6_SIZE);return t.fromNumber(r)},t.prototype.getValue=function(){return this.value},t.prototype.toString=function(){return this.value.toString()},t.prototype.toMask=function(){var t="1".repeat(this.value),e="0".repeat(128-this.value);return o.IPv6Mask.fromHexadecimalString(this.toHexadecatetNotation(""+t+e))},t.prototype.toRangeSize=function(){return p(2).pow(this.bitValue.minus(p(this.getValue())))},t.prototype.merge=function(){return new t(this.value-1)},t.prototype.split=function(){return new t(this.value+1)},t.prototype.toHexadecatetNotation=function(t){return t.match(/.{1,16}/g).map((function(t){return s.Hexadecatet.fromString(u.binaryStringToHexadecimalString(t))})).map((function(t){return t.toString()})).join(":")},t}();function c(t,e){var r=e.greater(i.Validator.IPV4_SIZE)?"IPv6":"IPv4";if(t.greater(e)||t.equals(p(0)))throw new Error(i.Validator.invalidIPRangeSizeMessage.replace("$iptype",r));try{return a.intLog2(t)}catch(t){throw new Error(i.Validator.invalidIPRangeSizeForCidrMessage)}}e.IPv6Prefix=f,e.isIPv4Prefix=function(t){return"IPv4"===t.type}},function(t,e,r){"use strict";var n=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.Octet=void 0;var i=r(2),o=r(1),a=function(){function t(t){var e;e="string"==typeof t?parseInt(t):t;var r=n(i.Validator.isValidIPv4Octet(o(e)),2),a=r[0],u=r[1];if(!a)throw Error(u.filter((function(t){return""!==t})).toString());this.value=e}return t.fromString=function(e){return new t(e)},t.fromNumber=function(e){return new t(e)},t.prototype.getValue=function(){return this.value},t.prototype.toString=function(){return this.value.toString(10)},t}();e.Octet=a},function(t,e,r){"use strict";var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__generator||function(t,e){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},a=this&&this.__read||function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,o=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},u=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.IPv6CidrRange=e.IPv4CidrRange=e.AbstractIPRange=e.RangedSet=void 0;var s=r(1),p=r(6),l=r(7),f=r(0),c=r(2),g=function(){function t(t,e){if(this.first=t,this.last=e,t.isGreaterThan(e))throw new Error(t.toString()+" should be lower than "+e.toString());this.currentValue=t,this.bitValue=s(t.bitSize)}return t.fromSingleIP=function(e){return new t(e,e)},t.fromCidrRange=function(e){return new t(e.getFirst(),e.getLast())},t.fromRangeString=function(e){var r=e.split("-").map((function(t){return t.trim()}));if(2!==r.length)throw new Error("Argument should be in the format firstip-lastip");var n=a(r,2),i=n[0],o=n[1],u=a(c.Validator.isValidIPv4String(i),1)[0],s=a(c.Validator.isValidIPv4String(o),1)[0],l=a(c.Validator.isValidIPv6String(i),1)[0],f=a(c.Validator.isValidIPv6String(o),1)[0];if(u&&s)return new t(p.IPv4.fromDecimalDottedString(i),p.IPv4.fromDecimalDottedString(o));if(l&&f)return new t(p.IPv6.fromHexadecimalString(i),p.IPv6.fromHexadecimalString(o));throw new Error("First IP and Last IP should be valid and same type")},t.prototype.getFirst=function(){return this.first},t.prototype.getLast=function(){return this.last},t.prototype.getSize=function(){return this.last.getValue().minus(this.first.getValue()).plus(s.one)},t.prototype.toRangeString=function(){return this.getFirst()+"-"+this.getLast()},t.prototype.inside=function(t){return t.contains(this)},t.prototype.contains=function(t){var e=this.getFirst(),r=this.getLast(),n=t.getFirst(),i=t.getLast();return e.isLessThanOrEquals(n)&&r.isGreaterThanOrEquals(i)},t.prototype.isEquals=function(t){return this.getFirst().isEquals(t.getFirst())&&this.getLast().isEquals(t.getLast())},t.prototype.isLessThan=function(t){return!this.isEquals(t)&&(this.getFirst().isEquals(t.getFirst())?this.getSize().lesser(t.getSize()):this.getFirst().isLessThan(t.getFirst()))},t.prototype.isGreaterThan=function(t){return!this.isEquals(t)&&(this.getFirst().isEquals(t.getFirst())?this.getSize().greater(t.getSize()):this.getFirst().isGreaterThan(t.getFirst()))},t.prototype.isOverlapping=function(t){var e=this.getFirst(),r=this.getLast(),n=t.getFirst(),i=t.getLast();return r.isGreaterThan(n)&&r.isLessThanOrEquals(i)&&e.isLessThan(n)||i.isGreaterThan(e)&&i.isLessThanOrEquals(r)&&n.isLessThan(e)},t.prototype.isCidrAble=function(){if(this.getSize().eq(s.one))return!0;try{var t=f.intLog2(this.getSize()),e=f.parseBinaryStringToBigInteger(f.cidrPrefixToMaskBinaryString(t,p.isIPv4(this.currentValue)?"IPv4":"IPv6"));return this.first.getValue().eq(e.and(this.first.getValue()))}catch(t){return!1}},t.prototype.toCidrRange=function(){return p.isIPv4(this.currentValue)?this.toIPv4CidrRange():this.toIPv6CidrRange()},t.prototype.isConsecutive=function(t){var e=this.getFirst(),r=this.getLast(),n=t.getFirst(),i=t.getLast();return r.hasNext()&&r.nextIPNumber().isEquals(n)||i.hasNext()&&i.nextIPNumber().isEquals(e)},t.prototype.union=function(e){if(this.isEquals(e))return new t(e.getFirst(),e.getLast());if(this.isOverlapping(e))return this.getFirst().isLessThan(e.getFirst())?new t(this.getFirst(),e.getLast()):new t(e.getFirst(),this.getLast());if(this.contains(e))return new t(this.getFirst(),this.getLast());if(e.contains(this))return new t(e.getFirst(),e.getLast());throw new Error("Ranges do not overlap nor are equal")},t.prototype.prepend=function(e){if(e.getLast().nextIPNumber().isEquals(this.getFirst()))return new t(e.getFirst(),this.getLast());throw new Error("Range to prepend must be adjacent")},t.prototype.append=function(e){if(this.getLast().nextIPNumber().isEquals(e.getFirst()))return new t(this.getFirst(),e.getLast());throw new Error("Range to append must be adjacent")},t.prototype.subtract=function(e){if(!this.isOverlapping(e))throw new Error("Cannot subtract ranges that are not overlapping");if(!this.isLessThan(e))throw new Error("Cannot subtract a larger range from this range");return new t(this.getFirst(),e.getLast())},t.prototype.takeSubRange=function(e,r){if(e.plus(r).gt(this.getSize()))throw new RangeError("Requested range is greater than what can be taken");if(r.eq(s(0)))throw new Error("Sub range cannot be zero");var n=this.getFirst().value.plus(e),i=p.isIPv4(this.getFirst())?p.IPv4.fromBigInteger(n):p.IPv6.fromBigInteger(n),o=i.value.plus(r.minus(s.one));return new t(i,p.isIPv4(i)?p.IPv4.fromBigInteger(o):p.IPv6.fromBigInteger(o))},t.prototype.difference=function(e){if(e.getSize().gt(this.getSize()))throw new Error("Range is greater than range to be subtracted from");if(!this.contains(e))throw new Error("Range to subtract is not contained in this range");var r=[];try{r.push(new t(this.getFirst(),e.getFirst().previousIPNumber()))}catch(t){}try{r.push(new t(e.getLast().nextIPNumber(),this.getLast()))}catch(t){}return r},t.prototype.take=function(t){var e,r;return o(this,(function(n){switch(n.label){case 0:e=this.getFirst(),r=void 0===t?this.getSize().valueOf():t,n.label=1;case 1:return r>0?(r--,[4,e]):[3,3];case 2:return n.sent(),e=e.nextIPNumber(),[3,1];case 3:return[2]}}))},t.prototype[Symbol.iterator]=function(){return o(this,(function(t){switch(t.label){case 0:return[5,u(this.take())];case 1:return t.sent(),[2]}}))},t.prototype.toIPv4CidrRange=function(){var t=new v(p.IPv4.fromBigInteger(this.getFirst().getValue()),l.IPv4Prefix.fromRangeSize(this.getSize()));if(t.getFirst().isEquals(this.getFirst()))return t;throw new Error("Range cannot be converted to CIDR")},t.prototype.toIPv6CidrRange=function(){var t=new d(p.IPv6.fromBigInteger(this.getFirst().getValue()),l.IPv6Prefix.fromRangeSize(this.getSize()));if(t.getFirst().isEquals(this.getFirst()))return t;throw new Error("Range cannot be converted to CIDR")},t}();e.RangedSet=g;var h=function(){function t(){}return t.prototype.hasNextRange=function(){var t=this.getSize();return s(2).pow(this.bitValue).minus(t).greaterOrEquals(this.getFirst().getValue().plus(t))},t.prototype.hasPreviousRange=function(){return this.getSize().lesserOrEquals(this.getFirst().getValue())},t.prototype.toRangeSet=function(){return new g(this.getFirst(),this.getLast())},t.prototype.inside=function(t){return this.toRangeSet().inside(t.toRangeSet())},t.prototype.contains=function(t){return this.toRangeSet().contains(t.toRangeSet())},t.prototype.toRangeString=function(){return this.toRangeSet().toRangeString()},t.prototype.isOverlapping=function(t){return this.toRangeSet().isOverlapping(t.toRangeSet())},t.prototype.isConsecutive=function(t){return this.toRangeSet().isConsecutive(t.toRangeSet())},t.prototype.isCidrMergeable=function(t){return this.isConsecutive(t)&&this.getSize().equals(t.getSize())},t.prototype.isMergeable=function(t){return this.isCidrMergeable(t)||this.contains(t)||this.inside(t)},t.prototype.isEquals=function(t){return this.toRangeSet().isEquals(t.toRangeSet())},t.prototype.merge=function(t){if(!this.isCidrMergeable(t))throw new Error("Cannot merge. Ranges ("+this.toRangeString()+","+t.toRangeString()+") are not consecutive and/or of same size");return this.newInstance(this.getFirst(),this.getPrefix().merge())},t.prototype.takeStream=function(t){return o(this,(function(e){return[2,this.toRangeSet().take(t)]}))},t.prototype[Symbol.iterator]=function(){return o(this,(function(t){switch(t.label){case 0:return[5,u(this.toRangeSet())];case 1:return t.sent(),[2]}}))},t}();e.AbstractIPRange=h;var v=function(t){function e(e,r){var n=t.call(this)||this;return n.ipv4=e,n.cidrPrefix=r,n.bitValue=s(32),n}return i(e,t),e.fromCidr=function(t){var r=a(c.Validator.isValidIPv4CidrNotation(t),2),n=r[0],i=r[1];if(!n){var o=i.filter((function(t){return""!==t}));throw new Error(o.join(" and "))}var u=t.split("/"),s=u[0],f=parseInt(u[1]);return new e(p.IPv4.fromDecimalDottedString(s),l.IPv4Prefix.fromNumber(f))},e.prototype.getSize=function(){return this.cidrPrefix.toRangeSize()},e.prototype.toCidrString=function(){return this.getFirst().toString()+"/"+this.cidrPrefix.toString()},e.prototype.toRangeString=function(){return t.prototype.toRangeString.call(this)},e.prototype.getFirst=function(){return p.IPv4.fromBigInteger(this.ipv4.getValue().and(this.cidrPrefix.toMask().getValue()))},e.prototype.getLast=function(){var t=s("1".repeat(32),2),e=this.cidrPrefix.toMask().getValue(),r=f.leftPadWithZeroBit(e.xor(t).toString(2),32);return p.IPv4.fromBigInteger(this.ipv4.getValue().or(f.parseBinaryStringToBigInteger(r)))},e.prototype.newInstance=function(t,r){return new e(t,r)},e.prototype.getPrefix=function(){return this.cidrPrefix},e.prototype.isConsecutive=function(e){return t.prototype.isConsecutive.call(this,e)},e.prototype.contains=function(e){return t.prototype.contains.call(this,e)},e.prototype.inside=function(e){return t.prototype.inside.call(this,e)},e.prototype.isOverlapping=function(e){return t.prototype.isOverlapping.call(this,e)},e.prototype.take=function(t){var e=[this.getFirst()],r=this.getFirst();if(s(t).greater(this.getSize())){var n=c.Validator.takeOutOfRangeSizeMessage.replace("$count",t.toString()).replace("$size",this.getSize().toString());throw new Error(n)}for(var i=0;i<t.minus(1).valueOf();i++)e.push(r.nextIPNumber()),r=r.nextIPNumber();return e},e.prototype.split=function(){var t=this.cidrPrefix.getValue();if(32===t)throw new Error("Cannot split an IP range with a single IP number");var r=l.IPv4Prefix.fromNumber(t+1),n=new e(this.getFirst(),r),i=n.getLast().nextIPNumber();return[n,new e(i,r)]},e.prototype.splitInto=function(t){var r=t.getValue()-this.cidrPrefix.getValue();if(r<0)throw new Error("Prefix to split into is larger than source prefix");if(0===r)return[new e(this.getFirst(),t)];if(1===r)return this.split();for(var n=this.split();r>1;)n=n.flatMap((function(t){return t.split()})),r-=1;return n},e.prototype.hasNextRange=function(){return t.prototype.hasNextRange.call(this)},e.prototype.hasPreviousRange=function(){return t.prototype.hasPreviousRange.call(this)},e.prototype.nextRange=function(){if(this.hasNextRange()){var t=this.getSize(),r=this.getFirst().getValue().plus(t);return new e(new p.IPv4(r),this.cidrPrefix)}},e.prototype.previousRange=function(){if(this.hasPreviousRange()){var t=this.getSize(),r=this.getFirst().getValue().minus(t);return new e(new p.IPv4(r),this.cidrPrefix)}},e}(h);e.IPv4CidrRange=v;var d=function(t){function e(e,r){var n=t.call(this)||this;return n.ipv6=e,n.cidrPrefix=r,n.bitValue=s(128),n}return i(e,t),e.fromCidr=function(t){var r=a(c.Validator.isValidIPv6CidrNotation(t),2),n=r[0],i=r[1];if(!n)throw new Error(i.filter((function(t){return""!==t})).toString());var o=t.split("/"),u=o[0],s=parseInt(o[1]);return new e(p.IPv6.fromHexadecimalString(u),l.IPv6Prefix.fromNumber(s))},e.prototype.getSize=function(){return this.cidrPrefix.toRangeSize()},e.prototype.toCidrString=function(){return this.getFirst().toString()+"/"+this.cidrPrefix.toString()},e.prototype.toRangeString=function(){return t.prototype.toRangeString.call(this)},e.prototype.getFirst=function(){return p.IPv6.fromBigInteger(this.ipv6.getValue().and(this.cidrPrefix.toMask().getValue()))},e.prototype.getLast=function(){var t=s("1".repeat(128),2),e=this.cidrPrefix.toMask().getValue(),r=f.leftPadWithZeroBit(e.xor(t).toString(2),128);return p.IPv6.fromBigInteger(this.ipv6.getValue().or(f.parseBinaryStringToBigInteger(r)))},e.prototype.newInstance=function(t,r){return new e(t,r)},e.prototype.getPrefix=function(){return this.cidrPrefix},e.prototype.isConsecutive=function(e){return t.prototype.isConsecutive.call(this,e)},e.prototype.contains=function(e){return t.prototype.contains.call(this,e)},e.prototype.inside=function(e){return t.prototype.inside.call(this,e)},e.prototype.isOverlapping=function(e){return t.prototype.isOverlapping.call(this,e)},e.prototype.take=function(t){var e=[this.getFirst()],r=this.getFirst();if(t.greater(this.getSize()))throw new Error(t.toString()+" is greater than "+this.getSize().toString()+", the size of the range");for(var n=0;n<t.minus(1).valueOf();n++)e.push(r.nextIPNumber()),r=r.nextIPNumber();return e},e.prototype.split=function(){var t=this.cidrPrefix.getValue();if(128===t)throw new Error("Cannot split an IP range with a single IP number");var r=l.IPv6Prefix.fromNumber(t+1),n=new e(this.getFirst(),r),i=n.getLast().nextIPNumber();return[n,new e(i,r)]},e.prototype.splitInto=function(t){var r=t.getValue()-this.cidrPrefix.getValue();if(r<0)throw new Error("Prefix to split into is larger than source prefix");if(0===r)return[new e(this.getFirst(),t)];if(1===r)return this.split();for(var n=this.split();r>1;)n=n.flatMap((function(t){return t.split()})),r-=1;return n},e.prototype.hasNextRange=function(){return t.prototype.hasNextRange.call(this)},e.prototype.hasPreviousRange=function(){return t.prototype.hasPreviousRange.call(this)},e.prototype.nextRange=function(){if(this.hasNextRange()){var t=this.getSize(),r=this.getFirst().getValue().plus(t);return new e(new p.IPv6(r),this.cidrPrefix)}},e.prototype.previousRange=function(){if(this.hasPreviousRange()){var t=this.getSize(),r=this.getFirst().getValue().minus(t);return new e(new p.IPv6(r),this.cidrPrefix)}},e}(h);e.IPv6CidrRange=d},function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),i(r(0),e),i(r(5),e),i(r(3),e),i(r(6),e),i(r(12),e),i(r(13),e),i(r(9),e),i(r(4),e),i(r(8),e),i(r(7),e),i(r(2),e)},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,r){"use strict";var n=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0}),e.Pool=void 0;var i=r(9),o=r(7),a=r(1),u=function(){function t(t){var e=this;this.backingSet=new s,t.forEach((function(t){e.backingSet.add(t)}))}return t.fromIPNumbers=function(e){return new t(e.map((function(t){return i.RangedSet.fromSingleIP(t)})))},t.fromRangeSet=function(e){return new t(e)},t.fromCidrRanges=function(e){return new t(e.map((function(t){return t.toRangeSet()})))},t.prototype.getRanges=function(){return this.backingSet.asArray()},t.prototype.aggregate=function(){var e=this.backingSet.asArray().reduce((function(t,e,r,n){if(0==t.length)return t.push(e),t;var i=t.pop(),o=i.toCidrRange(),a=e.toCidrRange();if(o.isCidrMergeable(a)){var u=o.merge(a);return t.push(u.toRangeSet()),t}return i.contains(e)?t.push(i):(t.push(i),t.push(e)),t}),[]),r=t.fromRangeSet(e);return r.getRanges().length!==this.getRanges().length?r.aggregate():r},t.prototype.getCidrRange=function(t){var e,r,i,o;if(t.toRangeSize().gt(this.getSize()))throw new Error("Not enough IP number in the pool for requested prefix: "+t);try{t:for(var u=n(this.getRanges()),s=u.next();!s.done;s=u.next())for(var p=s.value,l=a.zero;l.plus(t.toRangeSize()).lesserOrEquals(p.getSize());l=l.plus(a.one))try{var f=p.takeSubRange(l,t.toRangeSize());i=f.toCidrRange();var c=p.difference(f);this.removeExact(p),this.add(c);break t}catch(t){if(t instanceof RangeError)continue t;o=t}}catch(t){e={error:t}}finally{try{s&&!s.done&&(r=u.return)&&r.call(u)}finally{if(e)throw e.error}}if(i)return i;throw void 0===o?new Error("No range big enough in the pool for requested prefix: "+t):o},t.prototype.getCidrRanges=function(t){var e=this;if(t.toRangeSize().greater(this.getSize()))throw new Error("Prefix greater than pool");var r=function(t,n,i){try{var u=e.getCidrRange(n);i.push(u);var s=i.reduce((function(t,e){return t.plus(e.getSize())}),a.zero);return t.toRangeSize().equals(s)?i:r(t,n,i)}catch(e){var p=o.isIPv4Prefix(n)?o.IPv4Prefix.fromNumber(n.getValue()+1):o.IPv6Prefix.fromNumber(n.getValue()+1);return r(t,p,i)}};return r(t,t,[])},t.prototype.getSize=function(){return this.aggregate().getRanges().reduce((function(t,e){return t.plus(e.getSize())}),a.zero)},t.prototype.resetWith=function(t){this.backingSet.clear(),this.backingSet=this.backingSet.add(t)},t.prototype.removeExact=function(t){var e=this.backingSet.removeExact(t),r=!this.backingSet.isEquals(e);return this.backingSet=e,r},t.prototype.removeOverlapping=function(t){var e=this.backingSet.removeOverlapping(t),r=!this.backingSet.isEquals(e);return this.backingSet=e,r},t.prototype.add=function(t){this.backingSet=this.backingSet.add(t)},t.prototype.clear=function(){this.backingSet.clear()},t}();e.Pool=u;var s=function(){function t(t){this.backingArray=t?this.sortArray(t):new Array}return t.prototype.sortArray=function(t){return t.sort((function(t,e){return t.isLessThan(e)?-1:t.isGreaterThan(e)?1:0})),t},t.prototype.asArray=function(){return this.backingArray},t.prototype.isEquals=function(t){return this.backingArray.length===t.asArray().length&&this.backingArray.every((function(e,r){return e.getSize().equals(t.asArray()[r].getSize())}))},t.prototype.add=function(e){var r=this.backingArray;return"push"in e?r=r.concat(e):r.push(e),new t(this.sortArray(r))},t.prototype.removeExact=function(e){var r=this.backingArray.filter((function(t){return"push"in e?void 0!==e.find((function(e){return e.isEquals(t)})):!e.isEquals(t)}));return new t(this.sortArray(r))},t.prototype.removeOverlapping=function(e){var r=this.backingArray.flatMap((function(t){if("push"in e)return e.flatMap((function(e){return t.contains(e)?t.difference(e):t.inside(e)?new Array:t.isOverlapping(e)?[t.subtract(e)]:[e]}));try{return t.difference(e)}catch(e){return t}}));return new t(this.sortArray(r))},t.prototype.clear=function(){this.backingArray=[]},t}()}]);
//# sourceMappingURL=ip-num.js.map 